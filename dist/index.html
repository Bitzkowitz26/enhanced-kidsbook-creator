<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KidsBook Creator - AI-Powered Children's Books</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="styles-modern.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-book-open"></i>
                <span>KIDSBOOK.DEV</span>
            </div>
            <div class="nav-menu">
                <a href="#create" class="nav-link active" onclick="showSection('create')">
                    <i class="fas fa-plus-circle"></i>
                    CREATE
                </a>
                <a href="#illustrator" class="nav-link" onclick="showSection('illustrator')">
                    <i class="fas fa-palette"></i>
                    ILLUSTRATOR
                </a>
                <a href="#gallery" class="nav-link" onclick="showSection('gallery')">
                    <i class="fas fa-images"></i>
                    GALLERY
                </a>
                <a href="#templates" class="nav-link" onclick="showSection('templates')">
                    <i class="fas fa-layer-group"></i>
                    TEMPLATES
                </a>
                <a href="#guide" class="nav-link" onclick="showSection('guide')">
                    <i class="fas fa-question-circle"></i>
                    GUIDE
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="hero-background">
            <div class="floating-elements">
                <div class="floating-star">‚≠ê</div>
                <div class="floating-star">‚ú®</div>
                <div class="floating-star">üåü</div>
                <div class="floating-star">üí´</div>
                <div class="floating-star">üé®</div>
                <div class="floating-star">üìö</div>
            </div>
        </div>
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    Create a personalized book in which 
                    <span class="highlight">you</span> are the main character
                </h1>
                <div class="hero-features">
                    <span class="feature-badge">‚ú® AI-Powered</span>
                    <span class="feature-badge">üé® Custom Illustrations</span>
                    <span class="feature-badge">üìö Professional Quality</span>
                </div>
                <p class="hero-description">
                    We are one of the few that can boast of <strong>consistent characters</strong> generated by AI.
                    Turn yourself into the hero of your own book! ‚ú® Add your photo, create a story in any language, 
                    and edit it to perfection‚Äîchange illustrations, rewrite the plot, and bring your imagination to life.
                </p>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-large" onclick="showSection('create')">
                        <i class="fas fa-magic"></i>
                        Create a Book
                    </button>
                    <button class="btn btn-secondary btn-large" onclick="showSection('guide')">
                        <i class="fas fa-play-circle"></i>
                        See How It Works
                    </button>
                </div>
            </div>
            <div class="hero-image">
                <div class="book-showcase">
                    <div class="book-cover">
                        <div class="book-spine"></div>
                        <div class="book-front">
                            <div class="book-title">Your Amazing Adventure</div>
                            <div class="book-character">
                                <div class="character-placeholder">
                                    <i class="fas fa-user-circle"></i>
                                </div>
                            </div>
                            <div class="book-subtitle">A Personalized Story</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Create Section -->
    <section class="section" id="create" style="display: none;">
        <div class="container">
            <div class="section-header">
                <h2><i class="fas fa-magic"></i> Create Your Magical Book</h2>
                <p>Follow these simple steps to create your personalized children's book</p>
            </div>

            <!-- Step 1: Character Creation -->
            <div class="step-card active" id="step1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <h3>Create Your Character</h3>
                    <p>Upload a photo to become the hero of your story</p>
                </div>
                <div class="step-content">
                    <div class="character-upload">
                        <div class="upload-area" id="characterUpload">
                            <div class="upload-placeholder">
                                <i class="fas fa-camera"></i>
                                <h4>Upload Character Photo</h4>
                                <p>Drag & drop or click to select</p>
                                <input type="file" id="characterFile" accept="image/*" hidden>
                            </div>
                            <div class="upload-preview" id="characterPreview" style="display: none;">
                                <img id="characterImage" alt="Character">
                                <button class="btn-remove" onclick="removeCharacterImage()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        <div class="character-details">
                            <div class="form-group">
                                <label>Character Name</label>
                                <input type="text" id="characterName" placeholder="Enter character name">
                            </div>
                            <div class="form-group">
                                <label>Character Age</label>
                                <input type="number" id="characterAge" placeholder="Age" min="1" max="18">
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="nextStep(2)">
                        Next: Story Details <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 2: Story Creation -->
            <div class="step-card" id="step2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <h3>Tell Your Story</h3>
                    <p>Describe the adventure you want to create</p>
                </div>
                <div class="step-content">
                    <div class="story-form">
                        <div class="form-group">
                            <label>Story Title</label>
                            <input type="text" id="storyTitle" placeholder="Enter your story title">
                        </div>
                        <div class="form-group">
                            <label>Story Description</label>
                            <textarea id="storyDescription" placeholder="Describe your story adventure (e.g., 'Sarah goes on a magical journey to find the lost rainbow')" rows="4"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Story Length</label>
                                <select id="storyLength">
                                    <option value="short">Short (6 chapters)</option>
                                    <option value="medium" selected>Medium (8 chapters)</option>
                                    <option value="long">Long (12 chapters)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Art Style</label>
                                <select id="artStyle">
                                    <option value="watercolor">Watercolor</option>
                                    <option value="cartoon">Cartoon</option>
                                    <option value="realistic">Realistic</option>
                                    <option value="fantasy">Fantasy</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="step-buttons">
                        <button class="btn btn-secondary" onclick="prevStep(1)">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="btn btn-primary" onclick="generateStory()">
                            <i class="fas fa-wand-magic-sparkles"></i> Generate Story
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Story Preview & Edit -->
            <div class="step-card" id="step3" style="display: none;">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <h3>Preview & Edit Your Story</h3>
                    <p>Review your generated story and make any changes</p>
                </div>
                <div class="step-content">
                    <div class="story-preview" id="storyPreview">
                        <!-- Generated story content will appear here -->
                    </div>
                    <div class="step-buttons">
                        <button class="btn btn-secondary" onclick="prevStep(2)">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <button class="btn btn-primary" onclick="approveStory()">
                            <i class="fas fa-check"></i> Approve & Generate Images
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 4: Final Preview -->
            <div class="step-card" id="step4" style="display: none;">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <h3>Your Complete Book</h3>
                    <p>Preview your finished book and export</p>
                </div>
                <div class="step-content">
                    <div class="book-preview" id="finalBookPreview">
                        <!-- Final book preview will appear here -->
                    </div>
                    <div class="export-options">
                        <button class="btn btn-success" onclick="exportPDF()">
                            <i class="fas fa-file-pdf"></i> Download PDF
                        </button>
                        <button class="btn btn-info" onclick="exportJSON()">
                            <i class="fas fa-file-code"></i> Export JSON
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Templates Section -->
    <section class="section" id="templates" style="display: none;">
        <div class="container">
            <div class="section-header">
                <h2><i class="fas fa-layer-group"></i> Book Templates</h2>
                <p>Choose from our collection of ready-made story templates</p>
            </div>
            <div class="templates-grid">
                <div class="template-card" onclick="useTemplate('adventure')">
                    <div class="template-image">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <h3>Adventure Quest</h3>
                    <p>Embark on an exciting adventure to save the kingdom</p>
                    <button class="btn btn-primary">Use Template</button>
                </div>
                <div class="template-card" onclick="useTemplate('friendship')">
                    <div class="template-image">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Friendship Story</h3>
                    <p>A heartwarming tale about making new friends</p>
                    <button class="btn btn-primary">Use Template</button>
                </div>
                <div class="template-card" onclick="useTemplate('magic')">
                    <div class="template-image">
                        <i class="fas fa-magic"></i>
                    </div>
                    <h3>Magical Journey</h3>
                    <p>Discover magical powers and save the day</p>
                    <button class="btn btn-primary">Use Template</button>
                </div>
                <div class="template-card" onclick="useTemplate('animals')">
                    <div class="template-image">
                        <i class="fas fa-paw"></i>
                    </div>
                    <h3>Animal Friends</h3>
                    <p>Meet talking animals and go on fun adventures</p>
                    <button class="btn btn-primary">Use Template</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="section" id="gallery" style="display: none;">
        <div class="container">
            <div class="section-header">
                <h2><i class="fas fa-images"></i> Your Book Gallery</h2>
                <p>View and manage your created books</p>
            </div>
            <div class="gallery-grid" id="bookGallery">
                <div class="gallery-placeholder">
                    <i class="fas fa-book-open"></i>
                    <h3>No books yet</h3>
                    <p>Create your first book to see it here</p>
                    <button class="btn btn-primary" onclick="showSection('create')">
                        Create Your First Book
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Guide Section -->
    <section class="section" id="guide" style="display: none;">
        <div class="container">
            <div class="section-header">
                <h2><i class="fas fa-question-circle"></i> How It Works</h2>
                <p>Learn how to create amazing personalized children's books</p>
            </div>
            <div class="guide-steps">
                <div class="guide-step">
                    <div class="guide-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h3>1. Upload Your Photo</h3>
                    <p>Add a photo of yourself or your child to become the main character</p>
                </div>
                <div class="guide-step">
                    <div class="guide-icon">
                        <i class="fas fa-pen-fancy"></i>
                    </div>
                    <h3>2. Describe Your Story</h3>
                    <p>Tell us what kind of adventure you want to go on</p>
                </div>
                <div class="guide-step">
                    <div class="guide-icon">
                        <i class="fas fa-wand-magic-sparkles"></i>
                    </div>
                    <h3>3. AI Creates Magic</h3>
                    <p>Our AI generates a unique story with beautiful illustrations</p>
                </div>
                <div class="guide-step">
                    <div class="guide-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3>4. Preview & Export</h3>
                    <p>Review your book and download it as PDF or other formats</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h3 id="loadingTitle">Creating Your Story...</h3>
            <p id="loadingMessage">Please wait while we generate your personalized book</p>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <span class="progress-text" id="progressText">0%</span>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> Book Created Successfully!</h3>
                <button class="modal-close" onclick="closeModal('successModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Your personalized children's book has been created successfully!</p>
                <div class="modal-buttons">
                    <button class="btn btn-primary" onclick="showSection('gallery')">
                        View in Gallery
                    </button>
                    <button class="btn btn-secondary" onclick="closeModal('successModal')">
                        Create Another
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="app-modern.js"></script>
</body>
</html>